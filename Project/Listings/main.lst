C51 COMPILER V9.60.0.0   MAIN                                                              03/24/2021 20:41:19 PAGE 1   


C51 COMPILER V9.60.0.0, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\Objects\main.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE Source\main.c OPTIMIZE(8,SPEED) BROWSE INCDIR(..\Include) DEFINE(FOSC_16
                    -0000) DEBUG OBJECTEXTEND PRINT(.\Listings\main.lst) TABS(2) OBJECT(.\Objects\main.obj)

line level    source

   1          #include "N76E003.h"
   2          #include "Common.h"
   3          #include "Delay.h"
   4          #include "SFR_Macro.h"
   5          #include "Function_define.h"
   6          
   7          #define BUFFER_SIZE   16
   8          UINT8  temp,temp1;
   9          UINT16 u16CNT=0,u16CNT1=0;
  10          bit riflag;
  11          
  12          void MODIFY_Hirc166(void)
  13          {
  14   1          UINT8 xdata hircmap0,hircmap1;
  15   1          UINT16 xdata trimvalue16bit;
  16   1          // Check if power on reset, modify HIRC 
  17   1          if ((PCON&SET_BIT4)==SET_BIT4)        
  18   1          {
  19   2              hircmap0 = RCTRIM0;
  20   2              hircmap1 = RCTRIM1;
  21   2              trimvalue16bit = ((hircmap0<<1)+(hircmap1&0x01));
  22   2              trimvalue16bit = trimvalue16bit - 15;
  23   2              hircmap1 = trimvalue16bit&0x01;
  24   2              hircmap0 = trimvalue16bit>>1;
  25   2              TA=0XAA;
  26   2              TA=0X55;
  27   2              RCTRIM0 = hircmap0;
  28   2              TA=0XAA;
  29   2              TA=0X55;
  30   2              RCTRIM1 = hircmap1;
  31   2              // Clear power on flag 
  32   2              PCON &= CLR_BIT4;
  33   2          }
  34   1      }
  35          
  36          void SerialPort1_ISR(void) interrupt 15 
  37          {
  38   1          if (RI_1==1) 
  39   1          {                                       /* if reception occur */
  40   2              clr_RI_1;                             /* clear reception flag for next reception */
  41   2              Send_Data_To_UART0(SBUF_1);
  42   2          }
  43   1      }
  44          
  45          void SerialPort0_ISR(void) interrupt 4
  46          {
  47   1          if(RI == 1)
  48   1          {
  49   2              clr_RI;
  50   2              Send_Data_To_UART1(SBUF);
  51   2      
  52   2          }
  53   1      }
  54          
C51 COMPILER V9.60.0.0   MAIN                                                              03/24/2021 20:41:19 PAGE 2   

  55          void main (void)
  56          {
  57   1          MODIFY_Hirc166();
  58   1          InitialUART0_Timer1(9600);
  59   1          InitialUART1_Timer3(9600);
  60   1          
  61   1          //set_ES_1;         //For interrupt enable
  62   1          set_ES;
  63   1          set_EA;
  64   1          while (1)
  65   1          {
  66   2              // temp = Receive_Data_From_UART0();
  67   2              // Send_Data_To_UART1(temp);
  68   2              temp1 = Receive_Data_From_UART1();
  69   2              Send_Data_To_UART0(temp1);
  70   2            //Send_Data_To_UART1(0x68);
  71   2              //Timer2_Delay500us(10000);
  72   2              /* code */
  73   2            
  74   2          }
  75   1          
  76   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    266    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----       4
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      6    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =      1    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
